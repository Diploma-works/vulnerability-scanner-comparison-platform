import {makeAutoObservable} from "mobx";
import {ReportOption} from "../api/catalog-service-client";
import clientFacade from "../api/ClientFacade";

export class StartScanStore {
  get scannerId(): number {
    return this._scannerId;
  }

  get scannerReportOptions(): ReportOption[] {
    return this._scannerReportOptions;
  }

  public setScannerId(scannerId: number){
     clientFacade.catalogServiceClient.external.getScannerReportOptions(scannerId)
        .then((response) => {
         this._scannerReportOptions = response.options
        })
        .catch((error) => {
          console.log(error.message)
        })
  }

  private _scannerId: number = -1;
  private _scannerReportOptions: ReportOption[] = []
  constructor() {
    makeAutoObservable(this)
  }
}

const startScanStore: StartScanStore = new StartScanStore()
export default startScanStore;