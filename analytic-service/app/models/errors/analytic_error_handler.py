from fastapi import Request, HTTPException
from loguru import logger

from common.models.errors import AnalyzeException


async def analyze_error_handler(_: Request, exception: AnalyzeException) -> None:
    logger.error(exception)
    raise HTTPException(status_code=exception.http_status, detail=str(exception))
