from fastapi import HTTPException
from fastapi.requests import Request
from fastapi.responses import JSONResponse
from loguru import logger


async def http_error_handler(_: Request, exception: HTTPException) -> JSONResponse:
    logger.error(exception)
    return JSONResponse(status_code=exception.status_code, content={"detail": exception.detail})
