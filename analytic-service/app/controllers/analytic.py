from fastapi import APIRouter, Depends

from app.models.analytic import StatisticList
from app.services import AnalyticService
from app.services.dependencies import get_analytic_service

router = APIRouter(prefix="/analytic", tags=["analytic"])


@router.get(
    path="/",
    description="Получение информации для итоговой таблицы",
    response_model=StatisticList
)
async def get_statistic(
        analytic_service: AnalyticService = Depends(get_analytic_service)
):
    return await analytic_service.get_statistics()
